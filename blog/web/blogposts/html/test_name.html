<h1>Testing Code</h1>
<pre><code class="language-python">from markdown_it import MarkdownIt
from pygments import highlight
from pygments.lexers import PythonLexer
from pygments.lexers import get_lexer_by_name
from pygments.formatters import HtmlFormatter
from pygments.styles import get_style_by_name


formatter = HtmlFormatter(style='material', nowrap=True)

def highlight_code(code, name, attr):
    lexer = PythonLexer()
    if name != '':
        lexer = get_lexer_by_name(name)
    
    return highlight(code, lexer, formatter)

def render_code_block(self, tokens, idx, options, env):
    return &quot;&lt;div class=\&quot;highlight\&quot;&gt;&quot; + self.code_block(tokens, idx, options, env) + &quot; &lt;/div&gt;&quot;

def render_fence_block(self, tokens, idx, options, env):
    return &quot;&lt;div class=\&quot;highlight\&quot;&gt;&quot; + self.fence(tokens, idx, options,env) + &quot; &lt;/div&gt;&quot;


mdfile = open(&quot;testmd.md&quot;, &quot;r&quot;)
text = mdfile.read()

# Github REST API method
# os.system(&quot;gh api --method POST -H \&quot;Accept: application/vnd.github+json\&quot; -H \&quot;X-Github-Api-Version: 2022-11-28\&quot; /markdown -f text='{0}'&quot;.format(content))

md = MarkdownIt(&quot;gfm-like&quot;, {'html': True, 'highlight': highlight_code, 'typographer': True}).enable('table')
md.add_render_rule(&quot;fence&quot;, render_fence_block)
md.add_render_rule(&quot;code_block&quot;, render_code_block)
tokens = md.parse(text)
html_text = md.render(text)

htmlfile = open(&quot;test.html&quot;, &quot;w&quot;)
htmlfile.write(html_text)

print(formatter.get_style_defs('.highlight'))

</code></pre>
